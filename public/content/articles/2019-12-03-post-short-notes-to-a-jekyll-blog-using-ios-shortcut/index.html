<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post short notes to a Jekyll blog using an iOS Shortcut</title>
    <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>
    <h1>Post short notes to a Jekyll blog using an iOS Shortcut</h1>

    <p>As I take steps to host all my content to my site first, I wanted to start adding notes and eventually push these to Twitter.</p>
<p>The <a href="https://indieweb.org/note">Indieweb</a> defines a note as:</p>
<blockquote>
<p>A note is a post that is typically short unstructured plain text, written &amp; posted quickly, that has its own permalink page. Creating, publishing, and owning your own notes is a key step towards reducing dependence on Twitter.</p>
</blockquote>
<p>I recently created an iOS shortcut to post a photo to the photos section of my site. In the same vain this post outlines another iOS shortcut that I created to post a short note.</p>
<h2>Note collection</h2>
<p>As this site is currently built using Jekyll, I setup a new collection called notes that would be available at www.rdsaunders.co.uk/notes.</p>
<p>Each note is based on the time stamp that its is created to provide a unique URL that can eventually be posted to Twitter or shared elsewhere. Once the collection was setup and I had a listing to display all the notes I set about creating a note shortcut.</p>
<h2>iOS Shortcut</h2>
<p>This shortcut is a relatively simple one. The main effort was creating the file name from the current date/time stamp. The shortcut takes advantage of the <a href="https://developer.github.com/v3/repos/contents/#create-or-update-a-file">GitHub API</a> to submit the note directly to my repo on GitHub.</p>
<p>I’m using Netlify to build and host my site so once the note is committed, <a href="https://www.netlify.com/">Netlify</a> sees the changes in my repository then builds and deploys the changes.</p>
<p>You can download a copy of the <a href="https://www.icloud.com/shortcuts/63116bd5272d415199f3805d65e85bca">iOS Shortcut</a> for yourself. When installing the shortcut you’ll need to configure it with your own GitHub credentials.</p>
<h2>Prerequisites</h2>
<ul>
<li><strong>GitHub username</strong> – used to authenticate to the GitHub API</li>
<li><strong>GitHub repository name</strong> – the repository you are uploading to.</li>
<li><strong>GitHub personal access token</strong> – this must have read/write access to the appropriate repository. View the <a href="https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line">Github docs</a> to find out how to create a access token.</li>
<li><strong>GitHub committer</strong> <strong>name</strong> and <strong>email address</strong> – used when committing files to the repository.</li>
<li><strong>Note upload path</strong> – where the markdown file should be created e.g. _notes.</li>
</ul>
<h2>What the shortcut does</h2>
<ol>
<li>The shortcut asks you: What do you want to say? This text is used as the note.</li>
<li>Uses the current date and time to generate a unique filename e.g 201912302911.md.</li>
<li>BASE 64 encodes the text to send to GitHub.</li>
<li>Creates and uploads a markdown file containing the date, and the notes text via the GitHub API.</li>
</ol>
<h2>Yaml front matter structure</h2>
<table class="striped">
    <caption>A table explaining how the front matter is populated</caption>
    <tr>
        <th>Front matter field</th>
        <th>Data population</th>
    </tr>
    <tr>
        <td>date</td>
        <td>Uses the creation date of the note.</td>
    </tr>
    <tr>
        <td>content</td>
        <td>The note text is used in the primary content area of the markdown file.</td>
    </tr>
</table>
<h2>Notes / quirks</h2>
<ul>
<li>The shortcut relies on access to <a href="https://shrtcts.app/">https://shrtcts.app/</a> to use some of the date / string utilities.</li>
</ul>

    
</body>
</html>